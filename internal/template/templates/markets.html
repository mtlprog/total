{{define "title"}}Total - All Prediction Markets{{end}}
{{define "description"}}Browse and trade on decentralized prediction markets powered by Stellar and Soroban.{{end}}
{{define "og_title"}}Total - Prediction Markets{{end}}
{{define "og_description"}}Decentralized prediction markets on Stellar{{end}}

{{define "content"}}
{{if .Error}}
<div class="error-box">
    <div class="error-message">{{.Error}}</div>
</div>
{{end}}

{{if .Markets}}
<div class="market-list">
    {{range .Markets}}
    <div class="card">
        <h2 class="card-title">
            <a href="/market/{{.ID}}">{{.Question}}</a>
        </h2>

        <div class="prices">
            <div class="price">
                <span class="price-label">YES</span>
                <span class="price-value price-yes">{{printf "%.1f" (mul .PriceYes 100)}}%</span>
            </div>
            <div class="price">
                <span class="price-label">NO</span>
                <span class="price-value price-no">{{printf "%.1f" (mul .PriceNo 100)}}%</span>
            </div>
        </div>

        <div class="meta">
            {{if .IsResolved}}
            <span class="text-accent font-bold">RESOLVED: {{.Resolution}}</span>
            {{else}}
            Volume: {{printf "%.0f" .YesSold}} YES / {{printf "%.0f" .NoSold}} NO
            {{end}}
            <span class="text-muted"> Â· {{slice .ID 0 8}}...</span>
        </div>
        {{if .MetadataError}}
        <div class="warning" style="margin-top: 0.75rem; margin-bottom: 0;">{{.MetadataError}}</div>
        {{end}}
    </div>
    {{end}}
</div>
{{else}}
<div class="empty-state">
    <p>No markets yet.</p>
    <a href="/oracle" class="btn btn-primary">Deploy First Market</a>
</div>
{{end}}
{{end}}

{{template "base" .}}
